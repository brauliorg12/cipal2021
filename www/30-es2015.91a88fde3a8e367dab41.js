(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{wDXw:function(t,n,e){"use strict";e.r(n),e.d(n,"LoginPageModule",(function(){return P}));var o=e("ofXK"),i=e("3Pt+"),c=e("tyNb"),r=e("TEn/"),a=e("mrSG"),s=e("fXoL"),l=e("on2l"),p=e("5egi"),d=e("e8h1");function g(t,n){1&t&&(s.dc(0,"ion-header"),s.dc(1,"ion-toolbar",2),s.dc(2,"ion-buttons",3),s.Zb(3,"ion-back-button",4),s.dc(4,"ion-title"),s.Lc(5,"Iniciar Sesi\xf3n"),s.cc(),s.cc(),s.cc(),s.cc())}function f(t,n){1&t&&(s.bc(0),s.dc(1,"ion-row",5),s.Zb(2,"ion-spinner",6),s.cc(),s.ac())}function u(t,n){if(1&t){const t=s.ec();s.dc(0,"ion-icon",22),s.lc("click",(function(){return s.Dc(t),s.pc(4).changeTypeText()})),s.cc()}}function b(t,n){if(1&t){const t=s.ec();s.dc(0,"ion-icon",23),s.lc("click",(function(){return s.Dc(t),s.pc(4).changeTypePass()})),s.cc()}}function m(t,n){1&t&&(s.dc(0,"ion-button",24),s.Lc(1," Ingresar "),s.cc())}function h(t,n){1&t&&(s.dc(0,"ion-button",25),s.Lc(1," Ingresar "),s.cc())}function y(t,n){if(1&t){const t=s.ec();s.bc(0),s.dc(1,"form",9,10),s.lc("ngSubmit",(function(){s.Dc(t);const n=s.Cc(2);return s.pc(3).login(n)})),s.dc(3,"ion-row"),s.dc(4,"ion-col"),s.Zb(5,"br"),s.dc(6,"ion-list"),s.dc(7,"ion-item",11),s.dc(8,"ion-label",2),s.Lc(9,"Email: "),s.cc(),s.dc(10,"ion-input",12,13),s.lc("ngModelChange",(function(n){return s.Dc(t),s.pc(3).loginUser.email=n})),s.cc(),s.cc(),s.dc(12,"ion-item",11),s.dc(13,"ion-label",2),s.Lc(14,"Contrase\xf1a: "),s.cc(),s.dc(15,"ion-input",14),s.lc("ngModelChange",(function(n){return s.Dc(t),s.pc(3).loginUser.password=n})),s.cc(),s.Kc(16,u,1,0,"ion-icon",15),s.Kc(17,b,1,0,"ion-icon",16),s.cc(),s.cc(),s.cc(),s.cc(),s.dc(18,"ion-row"),s.dc(19,"ion-col"),s.dc(20,"ion-text",17),s.Lc(21,"\xbfOlvidaste la contrase\xf1a? "),s.dc(22,"ion-text",2),s.dc(23,"b",18),s.lc("click",(function(){return s.Dc(t),s.pc(3).fbToLogin()})),s.Lc(24,"Recuperar mi cuenta"),s.cc(),s.cc(),s.cc(),s.cc(),s.cc(),s.Zb(25,"br"),s.dc(26,"ion-row"),s.dc(27,"ion-col"),s.Kc(28,m,2,0,"ion-button",19),s.Kc(29,h,2,0,"ion-button",20),s.cc(),s.cc(),s.dc(30,"ion-button",21),s.lc("click",(function(){return s.Dc(t),s.pc(3).backNewL()})),s.dc(31,"ion-text"),s.Lc(32,"Volver"),s.cc(),s.cc(),s.cc(),s.ac()}if(2&t){const t=s.Cc(2),n=s.pc(3);s.Mb(10),s.vc("ngModel",n.loginUser.email),s.Mb(5),s.vc("type",n.passtype)("ngModel",n.loginUser.password),s.Mb(1),s.vc("ngIf","password"===n.passtype),s.Mb(1),s.vc("ngIf","text"===n.passtype),s.Mb(11),s.vc("ngIf",n.loginUser.email&&n.loginUser.password&&t.valid),s.Mb(1),s.vc("ngIf",!n.loginUser.email||!n.loginUser.password||!t.valid)}}function w(t,n){if(1&t){const t=s.ec();s.bc(0),s.Zb(1,"br"),s.dc(2,"ion-row"),s.dc(3,"ion-col"),s.dc(4,"ion-button",21),s.lc("click",(function(){return s.Dc(t),s.pc(3).fbToLogin()})),s.dc(5,"ion-text",2),s.dc(6,"b"),s.Lc(7,"Iniciar sesi\xf3n"),s.cc(),s.cc(),s.cc(),s.cc(),s.cc(),s.dc(8,"ion-row"),s.dc(9,"ion-col"),s.dc(10,"ion-button",21),s.lc("click",(function(){return s.Dc(t),s.pc(3).registerNew()})),s.dc(11,"ion-text",2),s.dc(12,"b"),s.Lc(13,"Registrarme"),s.cc(),s.cc(),s.cc(),s.cc(),s.cc(),s.ac()}}function x(t,n){if(1&t&&(s.dc(0,"div"),s.dc(1,"ion-grid",8),s.Kc(2,y,33,7,"ng-container",0),s.Kc(3,w,14,0,"ng-container",0),s.cc(),s.cc()),2&t){const t=s.pc(2);s.Mb(2),s.vc("ngIf","login"===t.fborlogin&&t.touchL),s.Mb(1),s.vc("ngIf","fb"===t.fborlogin&&!t.touchR&&!t.touchL)}}function v(t,n){if(1&t){const t=s.ec();s.dc(0,"ion-icon",22),s.lc("click",(function(){return s.Dc(t),s.pc(3).changeTypeText()})),s.cc()}}function _(t,n){if(1&t){const t=s.ec();s.dc(0,"ion-icon",23),s.lc("click",(function(){return s.Dc(t),s.pc(3).changeTypePass()})),s.cc()}}function M(t,n){1&t&&(s.dc(0,"ion-text",35),s.Lc(1,"\xa0 "),s.Zb(2,"ion-icon",36),s.Lc(3,"\xa0Las contrase\xf1as no coinciden "),s.cc())}function k(t,n){if(1&t){const t=s.ec();s.dc(0,"div"),s.dc(1,"ion-grid"),s.dc(2,"form",26),s.dc(3,"ion-row"),s.dc(4,"ion-col"),s.dc(5,"ion-list"),s.dc(6,"ion-item",11),s.dc(7,"ion-label",27),s.Lc(8,"Email:"),s.cc(),s.Zb(9,"ion-input",28,29),s.cc(),s.dc(11,"ion-item",11),s.dc(12,"ion-label",27),s.Lc(13,"Nombre:"),s.cc(),s.Zb(14,"ion-input",30),s.cc(),s.dc(15,"ion-item",11),s.dc(16,"ion-label",27),s.Lc(17,"Contrase\xf1a:"),s.cc(),s.Zb(18,"ion-input",31),s.Kc(19,v,1,0,"ion-icon",15),s.Kc(20,_,1,0,"ion-icon",16),s.cc(),s.dc(21,"ion-item",11),s.dc(22,"ion-label",27),s.Lc(23,"Repetir Contrase\xf1a:"),s.cc(),s.Zb(24,"ion-input",32),s.cc(),s.Kc(25,M,4,0,"ion-text",33),s.cc(),s.cc(),s.cc(),s.Zb(26,"br"),s.dc(27,"ion-row"),s.dc(28,"ion-col"),s.dc(29,"ion-button",34),s.lc("click",(function(){return s.Dc(t),s.pc(2).registro()})),s.Lc(30," Crear usuario "),s.cc(),s.cc(),s.cc(),s.Zb(31,"br"),s.dc(32,"ion-button",21),s.lc("click",(function(){return s.Dc(t),s.pc(2).backNewR()})),s.dc(33,"ion-text"),s.Lc(34,"Volver"),s.cc(),s.cc(),s.cc(),s.cc(),s.cc()}if(2&t){const t=s.pc(2);s.Mb(2),s.vc("formGroup",t.registerUser),s.Mb(16),s.vc("type",t.passtype),s.Mb(1),s.vc("ngIf","password"===t.passtype),s.Mb(1),s.vc("ngIf","text"===t.passtype),s.Mb(4),s.vc("type",t.passtype),s.Mb(1),s.vc("ngIf",t.registerUser.get("password_c").errors&&(t.registerUser.get("password_c").dirty||t.registerUser.get("password_c").touched)),s.Mb(4),s.vc("disabled",!t.registerUser.valid)}}function C(t,n){if(1&t&&(s.bc(0),s.Zb(1,"br"),s.Zb(2,"img",7),s.Kc(3,x,4,2,"div",0),s.Kc(4,k,35,7,"div",0),s.ac()),2&t){const t=s.pc();s.Mb(3),s.vc("ngIf","false"===t.userReady),s.Mb(1),s.vc("ngIf","false"===t.userReady&&t.touchR)}}const O=[{path:"",component:(()=>{class t{constructor(t,n,e,o,c,r,a,s){this.router=t,this.navCtrl=n,this.usuarioService=e,this.uiService=o,this.storage=c,this.formBuilder=r,this.platform=a,this.loadingController=s,this.loginUser={email:"",password:""},this.fborlogin="fb",this.userReady="false",this.passtype="password",this.touchL=!1,this.touchR=!1,this.status="loading",this.registerUser=this.formBuilder.group({_id:[""],email:["",i.s.required],nombre:["",i.s.required],password:new i.c("",i.s.compose([i.s.minLength(5),i.s.required])),password_c:["",[i.s.required,this.matchValues("password")]],avatar:["av-1.png"],role:["user"],fb:["false"]})}matchValues(t){return n=>n.parent&&n.parent.value&&n.value===n.parent.controls[t].value?null:{isMatching:!1}}ionViewWillEnter(){this.storage.get("token").then(t=>{t?this.navCtrl.navigateRoot("/inicio",{animated:!0,animationDirection:"forward"}):(this.userReady="false",setTimeout(()=>{this.status="ok"},500))})}ngOnInit(){return Object(a.a)(this,void 0,void 0,(function*(){this.platform.is("capacitor")?this.platform.ready().then(()=>{}):this.web=!0}))}changeTypeText(){this.passtype="text"}changeTypePass(){this.passtype="password"}login(t){return Object(a.a)(this,void 0,void 0,(function*(){this.userReady="true",t.invalid||(yield this.usuarioService.login(this.loginUser.email,this.loginUser.password).then(t=>Object(a.a)(this,void 0,void 0,(function*(){if(t){const t="false";yield this.storage.set("user",{fb:t}).then(t=>{this.user={fb:t.fb},this.navCtrl.navigateRoot("/inicio",{animated:!0,animationDirection:"forward"}),this.loginUser.email="",this.loginUser.password="",this.touchL=!1,this.fborlogin="fb"},t=>{}),this.userReady="ok"}else this.userReady="false",this.uiService.alertaInformativa("Usuario/contrase\xf1a incorrectos.")}))))}))}Register(){window.open("https://cipal.com.ar","_system")}registro(){return Object(a.a)(this,void 0,void 0,(function*(){this.userReady="true",yield this.usuarioService.registro(this.registerUser.value).then(t=>Object(a.a)(this,void 0,void 0,(function*(){if(t){const t="false";yield this.storage.set("user",{fb:t}).then(t=>{this.user={fb:t.fb},this.navCtrl.navigateRoot("/inicio",{animated:!0,animationDirection:"forward"}),this.registerUser.reset(),this.touchR=!1,this.fborlogin="fb"},t=>{}),this.userReady="ok"}else this.userReady="false",this.uiService.alertaInformativa("Ese correo electr\xf3nico ya existe.")})))}))}clicksWhatsapp(){window.location.href="whatsapp://send?text=Hola, tengo inconvenientes para entrar en CoDi.&phone=+5492364624963"}fbToLogin(){this.fborlogin="login",this.touchL=!0,setTimeout(()=>{this.inputEmailL.setFocus()},500)}registerNew(){this.fborlogin="login",this.touchR=!0,setTimeout(()=>{this.inputEmailR.setFocus()},500)}backNewR(){this.fborlogin="fb",this.touchR=!1}backNewL(){this.fborlogin="fb",this.touchL=!1}loginToFb(){this.fborlogin="fb"}openEmergency(){this.router.navigateByUrl("/main/tabs/emergencias")}}return t.\u0275fac=function(n){return new(n||t)(s.Yb(c.g),s.Yb(r.fb),s.Yb(l.a),s.Yb(p.a),s.Yb(d.b),s.Yb(i.b),s.Yb(r.hb),s.Yb(r.cb))},t.\u0275cmp=s.Sb({type:t,selectors:[["app-login"]],viewQuery:function(t,n){var e;1&t&&(s.Pc(r.w,!0),s.Pc(r.w,!0)),2&t&&(s.Bc(e=s.mc())&&(n.inputEmailR=e.first),s.Bc(e=s.mc())&&(n.inputEmailL=e.first))},decls:4,vars:3,consts:[[4,"ngIf"],["color","light",1,"ion-text-center"],["color","primary"],["slot","start"],["defaultHref","/"],[1,"center"],["name","crescent","color","primary"],["src","assets/icon/logo.png","alt","cipal",1,"logo"],[1,"grid_login"],[3,"ngSubmit"],["fLogin","ngForm"],["lines","inset"],["name","email","type","email","autocomplete","email","required","","pattern","[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$",3,"ngModel","ngModelChange"],["inputEmailL",""],["name","password","autocomplete","current-password","required","",3,"type","ngModel","ngModelChange"],["name","eye-off-outline",3,"click",4,"ngIf"],["name","eye-outline",3,"click",4,"ngIf"],[1,"text_login_y","pointer"],[3,"click"],["type","submit","color","primary","shape","round",4,"ngIf"],["color","primary","shape","round","disabled","",4,"ngIf"],["fill","outline","shape","round",3,"click"],["name","eye-off-outline",3,"click"],["name","eye-outline",3,"click"],["type","submit","color","primary","shape","round"],["color","primary","shape","round","disabled",""],["novalidate","",3,"formGroup"],["color","primary",1,"form_r"],["type","email","autocomplete","email","formControlName","email","required","","pattern","[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$"],["inputEmailR",""],["type","text","formControlName","nombre","autocomplete","name","required","","autocapitalize","on"],["autocomplete","new-password","formControlName","password","required","",3,"type"],["autocomplete","new-password","formControlName","password_c","required","",3,"type"],["color","danger","class","error",4,"ngIf"],["type","submit","color","primary","shape","round",3,"disabled","click"],["color","danger",1,"error"],["name","alert",1,"icon_error"]],template:function(t,n){1&t&&(s.Kc(0,g,6,0,"ion-header",0),s.dc(1,"ion-content",1),s.Kc(2,f,3,0,"ng-container",0),s.Kc(3,C,5,2,"ng-container",0),s.cc()),2&t&&(s.vc("ngIf","false"===n.userReady),s.Mb(2),s.vc("ngIf","loading"===n.status),s.Mb(1),s.vc("ngIf","ok"===n.status))},directives:[o.k,r.q,r.t,r.Z,r.j,r.f,r.g,r.X,r.K,r.S,r.s,i.t,i.m,i.n,r.p,r.E,r.x,r.D,r.w,r.lb,i.r,i.p,i.l,i.o,r.U,r.i,r.u,i.e,i.d],styles:['.div_logo[_ngcontent-%COMP%]{display:flex;text-align:center}.text_codi[_ngcontent-%COMP%]{position:absolute;left:42%}.pick-avatar[_ngcontent-%COMP%]{width:80px;opacity:.3}.logo[_ngcontent-%COMP%]{max-height:90px}.info_filter[_ngcontent-%COMP%]{font-size:17px;padding:.8rem;margin:1rem}.pick-avatar-seleccionado[_ngcontent-%COMP%]{transition:opacity .5s linear;opacity:1!important}.img_codi[_ngcontent-%COMP%]{width:80px;height:80px}.msg-content[_ngcontent-%COMP%]{float:left;position:relative;background:#0f4994;color:#fff;margin-top:1rem;border-radius:10px;padding:.3rem;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.msg-content[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:before{content:"";position:absolute;background:transparent;width:10px;height:8px;left:-10px;top:9px;box-sizing:border-box;border-right:10px solid #0f4994;border-top:8px solid transparent;border-bottom:8px solid transparent}.grid_login[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);-webkit-transform:translate(-50%,-50%);width:100%}.icon_fb[_ngcontent-%COMP%]{color:#4267b2!important;margin-bottom:2rem;min-width:250px}.icon_go[_ngcontent-%COMP%]{color:#d54c3f!important;margin-top:1rem}.text_login_n[_ngcontent-%COMP%]{font-size:.7rem}.icon_error[_ngcontent-%COMP%]{font-size:13px;vertical-align:middle}.error[_ngcontent-%COMP%]{font-size:12px}.form_r[_ngcontent-%COMP%], .text_login[_ngcontent-%COMP%]{font-size:14px}.text_login_first[_ngcontent-%COMP%]{font-size:1.1rem;display:block}.text_login_second[_ngcontent-%COMP%]{font-size:1rem;display:block}.text_login_y[_ngcontent-%COMP%]{font-size:13px}.col_top[_ngcontent-%COMP%]{background-color:#f0f8ff}.icon_size_home[_ngcontent-%COMP%]{position:relative;width:35px;height:25px}.icon_text_login[_ngcontent-%COMP%]{font-size:13px}.pulse1[_ngcontent-%COMP%]{z-index:1;border:3px solid #4267b2;-webkit-animation:pulsejg1 3s linear infinite;animation:pulsejg1 3s linear infinite;border-radius:999px;box-shadow:inset 0 0 15px 10px #4267b2}.pulse1[_ngcontent-%COMP%], .pulse2[_ngcontent-%COMP%]{position:absolute;width:200px;height:200px;margin:auto;top:0;left:0;bottom:0;right:0;opacity:0;box-sizing:border-box}.pulse2[_ngcontent-%COMP%]{z-index:2;border:1px solid #1d28c2;-webkit-animation:pulsejg2 3s linear infinite;animation:pulsejg2 3s linear infinite;border-radius:999px;box-shadow:inset 0 0 12px 5px #4267b2}@-webkit-keyframes pulsejg1{0%{-webkit-transform:scale(.6);opacity:0}50%{-webkit-transform:scale(.6);opacity:0}60%{-webkit-transform:scale(.9);opacity:.2}70%{-webkit-transform:scale(1.1);opacity:.35}80%{-webkit-transform:scale(1.25);opacity:.2}to{-webkit-transform:scale(1.4);opacity:0}}@keyframes pulsejg1{0%{transform:scale(.6);opacity:0}50%{transform:scale(.6);opacity:0}60%{transform:scale(.9);opacity:.1}70%{transform:scale(1.1);opacity:.25}80%{transform:scale(1.25);opacity:.1}to{transform:scale(1.4);opacity:0}}@-webkit-keyframes pulsejg2{0%{-webkit-transform:scale(.6);opacity:0}40%{-webkit-transform:scale(.8);opacity:.05}50%{-webkit-transform:scale(1);opacity:.1}60%{-webkit-transform:scale(1.1);opacity:.3}80%{-webkit-transform:scale(1.2);opacity:.1}to{-webkit-transform:scale(1.3);opacity:0}}@keyframes pulsejg2{0%{transform:scale(.6);opacity:0}40%{transform:scale(.8);opacity:.05}50%{transform:scale(1);opacity:.1}60%{transform:scale(1.1);opacity:.3}80%{transform:scale(1.2);opacity:.1}to{transform:scale(1.3);opacity:0}}.divider_normal[_ngcontent-%COMP%]{min-height:1px}.divider[_ngcontent-%COMP%]{display:flex}.divider[_ngcontent-%COMP%]:after, .divider[_ngcontent-%COMP%]:before{content:"";flex:1}.line[_ngcontent-%COMP%]{align-items:center}.line[_ngcontent-%COMP%]:after, .line[_ngcontent-%COMP%]:before{height:1px;margin:0 1em}.one-line[_ngcontent-%COMP%]:after, .one-line[_ngcontent-%COMP%]:before{background:#b5b5b5}']}),t})()}];let P=(()=>{class t{}return t.\u0275mod=s.Wb({type:t}),t.\u0275inj=s.Vb({factory:function(n){return new(n||t)},imports:[[o.b,i.f,r.ab,i.q,c.j.forChild(O)]]}),t})()}}]);