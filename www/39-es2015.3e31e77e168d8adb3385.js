(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{"4sOm":function(c,t,n){"use strict";n.r(t),n.d(t,"NotificationsPageModule",(function(){return k}));var o=n("TEn/"),i=n("ofXK"),e=n("3Pt+"),r=n("tyNb"),s=n("mrSG"),a=n("fXoL"),l=n("on2l"),u=n("e8h1");function d(c,t){1&c&&(a.bc(0),a.dc(1,"ion-row",10),a.Zb(2,"ion-spinner",11),a.cc(),a.ac())}function b(c,t){1&c&&(a.bc(0),a.dc(1,"ion-label",12),a.dc(2,"b"),a.Lc(3,"Error reintentar!"),a.cc(),a.cc(),a.ac())}function f(c,t){1&c&&(a.bc(0),a.dc(1,"ion-label",12),a.dc(2,"b"),a.Lc(3,"No hay notificaciones"),a.cc(),a.cc(),a.ac())}function g(c,t){if(1&c){const c=a.ec();a.dc(0,"ion-item"),a.dc(1,"ion-avatar",18),a.Zb(2,"ion-img",19),a.cc(),a.Lc(3,"\xa0\xa0 "),a.dc(4,"ion-label",20),a.Lc(5),a.cc(),a.dc(6,"ion-buttons",4),a.dc(7,"ion-button",21),a.lc("click",(function(){a.Dc(c);const t=a.pc().$implicit;return a.pc(2).goToChat(t._id)})),a.Zb(8,"ion-icon",22),a.cc(),a.cc(),a.cc()}if(2&c){const c=a.pc().$implicit;a.Mb(1),a.xc("routerLink","/perfil/",c._id,""),a.Mb(1),a.vc("src","https://res.cloudinary.com/cubanova/image/upload/v1608622656/cfoltteyfvmr0geze5c5.png"),a.Mb(2),a.xc("routerLink","/perfil/",c._id,""),a.Mb(1),a.Mc(c.nombre)}}function p(c,t){1&c&&(a.dc(0,"ion-button",23),a.Zb(1,"ion-icon",24),a.cc())}function m(c,t){if(1&c&&(a.dc(0,"ion-item-sliding"),a.Kc(1,g,9,4,"ion-item",8),a.dc(2,"ion-item-options",16),a.dc(3,"ion-buttons"),a.Kc(4,p,2,0,"ion-button",17),a.cc(),a.cc(),a.cc()),2&c){const c=t.$implicit,n=a.pc(2);a.Mb(1),a.vc("ngIf",c._id!==n.usuario._id),a.Mb(3),a.vc("ngIf",c.email)}}function h(c,t){if(1&c&&(a.bc(0,13),a.dc(1,"ion-item-group",14),a.Kc(2,m,5,2,"ion-item-sliding",15),a.cc(),a.ac()),2&c){const c=a.pc();a.Mb(2),a.vc("ngForOf",c.list_net)}}const v=[{path:"",component:(()=>{class c{constructor(c,t,n){this.dbService=c,this.router=t,this.storage=n,this.status="loading",this.activo=1}ngOnInit(){this.loadPage(this.event,1),this.storage.get("usuariocache").then(c=>Object(s.a)(this,void 0,void 0,(function*(){c&&(this.usuario=c)})),c=>{})}getList(c,t=!1){this.dbService.getAllUsers(t).toPromise().then(t=>{t.ok&&(this.list_net.push(...t.data),this.status="cero",c&&c.target.complete(),0===t.length&&(this.activo=0))})}goToChat(c){this.router.navigateByUrl("chat/"+c)}loadPage(c,t){1===t&&this.getList(c,!0),this.list_net=[],this.activo=t}}return c.\u0275fac=function(t){return new(t||c)(a.Yb(l.a),a.Yb(r.g),a.Yb(u.b))},c.\u0275cmp=a.Sb({type:c,selectors:[["app-notifications"]],viewQuery:function(c,t){var n;1&c&&a.Gc(o.q,!0),2&c&&a.Bc(n=a.mc())&&(t.content=n.first)},decls:15,vars:7,consts:[[3,"translucent"],["color","primary"],["slot","start"],["defaultHref","/"],["slot","end"],[3,"disabled","click"],["name","refresh","slot","icon-only","color","light"],["color","light",3,"fullscreen"],[4,"ngIf"],["fixed","",4,"ngIf"],[1,"center"],["name","crescent","color","primary"],["color","medium",1,"label_add","center"],["fixed",""],["reorder","true"],[4,"ngFor","ngForOf"],["side","end"],["slot","end","color","success",4,"ngIf"],["item-left","",1,"pointer",3,"routerLink"],[1,"img_comm_avatar",3,"src"],[1,"pointer","capitalize",3,"routerLink"],["color","primary",3,"click"],["name","chatbubbles-outline","color","primary","slot","icon-only",1,"only_coupons","pointer"],["slot","end","color","success"],["name","logo-whatsapp","slot","icon-only"]],template:function(c,t){1&c&&(a.dc(0,"ion-header",0),a.dc(1,"ion-toolbar",1),a.dc(2,"ion-buttons",2),a.Zb(3,"ion-back-button",3),a.dc(4,"ion-title"),a.Lc(5,"Notificaciones"),a.cc(),a.cc(),a.dc(6,"ion-buttons",4),a.dc(7,"ion-button",5),a.lc("click",(function(){return t.loadPage(t.event,1)}))("click",(function(){return t.status="loading"})),a.Zb(8,"ion-icon",6),a.cc(),a.Zb(9,"ion-menu-button"),a.cc(),a.cc(),a.cc(),a.dc(10,"ion-content",7),a.Kc(11,d,3,0,"ng-container",8),a.Kc(12,b,4,0,"ng-container",8),a.Kc(13,f,4,0,"ng-container",8),a.Kc(14,h,3,1,"ng-container",9),a.cc()),2&c&&(a.vc("translucent",!0),a.Mb(7),a.vc("disabled","loading"===t.status),a.Mb(3),a.vc("fullscreen",!0),a.Mb(1),a.vc("ngIf","loading"===t.status),a.Mb(1),a.vc("ngIf","error"===t.status),a.Mb(1),a.vc("ngIf","cero"===t.status),a.Mb(1),a.vc("ngIf","ok"===t.status))},directives:[o.t,o.Z,o.j,o.f,o.g,o.X,o.i,o.u,o.H,o.q,i.k,o.K,o.S,o.D,o.z,i.j,o.C,o.B,o.x,o.e,o.jb,r.h,o.v],styles:[""]}),c})()}];let y=(()=>{class c{}return c.\u0275mod=a.Wb({type:c}),c.\u0275inj=a.Vb({factory:function(t){return new(t||c)},imports:[[r.j.forChild(v)],r.j]}),c})(),k=(()=>{class c{}return c.\u0275mod=a.Wb({type:c}),c.\u0275inj=a.Vb({factory:function(t){return new(t||c)},imports:[[o.ab,i.b,e.f,y]]}),c})()}}]);