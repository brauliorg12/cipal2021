(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{nA2T:function(t,i,e){"use strict";e.r(i),e.d(i,"CategoriasEditPageModule",(function(){return f}));var o=e("ofXK"),n=e("3Pt+"),c=e("tyNb"),a=e("TEn/"),r=e("mrSG"),s=e("fXoL"),l=e("1+z8"),d=e("5egi"),u=e("on2l"),m=e("riPR");function p(t,i){1&t&&(s.dc(0,"ion-content"),s.dc(1,"ion-row",11),s.Zb(2,"ion-spinner",12),s.cc(),s.cc())}function g(t,i){if(1&t&&(s.dc(0,"ion-select-option",27),s.Lc(1),s.qc(2,"uppercase"),s.cc()),2&t){const t=i.$implicit;s.wc("value",t),s.Mb(1),s.Nc(" ",s.rc(2,2,t)," ")}}function h(t,i){if(1&t){const t=s.ec();s.dc(0,"ion-content",0),s.dc(1,"form",13),s.dc(2,"ion-grid"),s.dc(3,"ion-row"),s.dc(4,"ion-col",14),s.dc(5,"ion-card"),s.dc(6,"ion-item",15),s.dc(7,"ion-label"),s.Zb(8,"ion-icon",16),s.Lc(9,"Publicada "),s.cc(),s.dc(10,"ion-toggle",17),s.lc("ionChange",(function(){return s.Dc(t),s.pc().statusCommerce()})),s.cc(),s.cc(),s.dc(11,"ion-item",18),s.dc(12,"ion-label",19),s.Lc(13,"Seleccione un tipo:"),s.cc(),s.dc(14,"ion-select",20),s.Kc(15,g,3,4,"ion-select-option",21),s.cc(),s.cc(),s.cc(),s.cc(),s.dc(16,"ion-col",14),s.dc(17,"ion-card"),s.dc(18,"ion-item",15),s.dc(19,"ion-label",22),s.Lc(20,"Nombre: "),s.cc(),s.Zb(21,"ion-input",23),s.cc(),s.dc(22,"ion-item",15),s.dc(23,"ion-label",22),s.Lc(24,"Palabras clave: "),s.cc(),s.Zb(25,"ion-textarea",24),s.cc(),s.dc(26,"ion-item",18),s.dc(27,"ion-label"),s.Zb(28,"ion-icon",25),s.Lc(29,"\xbfSolo para Admins?: "),s.cc(),s.dc(30,"ion-toggle",26),s.lc("ionChange",(function(){return s.Dc(t),s.pc().btnCommerce()})),s.cc(),s.cc(),s.cc(),s.cc(),s.cc(),s.cc(),s.cc(),s.cc()}if(2&t){const t=s.pc();s.Mb(1),s.vc("formGroup",t.catsForm),s.Mb(13),s.vc("interfaceOptions",t.positionAlertOptions),s.Mb(1),s.vc("ngForOf",t.cats)}}const b=[{path:"",component:(()=>{class t{constructor(t,i,e,o,c,a,r,s,l){this.catsService=t,this.router=i,this.route=e,this.uiService=o,this.loadingController=c,this.formBuilder=a,this.usuarioService=r,this.alertController=s,this.refreshEvent=l,this.commerce={},this.usuario={},this.status="loading",this.redirect=["Interno","Externo"],this.linkext=!1,this.cats=["comercio","profesional","servicio"],this.positionAlertOptions={header:"Elige un tipo",subHeader:"Padres de categor\xedas",translucent:!0},this.btn=!1,this.catsForm=this.formBuilder.group({_id:[""],status:["",n.s.required],tipo:["",n.s.required],usuario:["",n.s.required],nombre:["",n.s.required],tags:["",n.s.required],isadmin:["",n.s.required]})}presentToast(){return Object(r.a)(this,void 0,void 0,(function*(){this.uiService.toastGeneral("Texto Actualizado!")}))}eraseToast(){return Object(r.a)(this,void 0,void 0,(function*(){this.uiService.presentToast("Texto Eliminado")}))}ionViewWillEnter(){this.usuario=this.usuarioService.getUsuario()}ngOnInit(){this.loadPage(),this.usuario=this.usuarioService.getUsuario()}statusCommerce(){"false"===this.catsForm.get("status").value&&this.catsForm.patchValue({status:"true"}),"true"===this.catsForm.get("status").value&&this.catsForm.patchValue({status:"false"})}btnCommerce(){"false"===this.catsForm.get("isadmin").value&&this.catsForm.patchValue({isadmin:"true"}),"true"===this.catsForm.get("isadmin").value&&this.catsForm.patchValue({isadmin:"false"})}delete(){return Object(r.a)(this,void 0,void 0,(function*(){const t=yield this.alertController.create({header:"Borrar Categor\xeda!",message:"Est\xe1 seguro?, no podr\xe1 volver a recuperarla.!!!",buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary",handler:t=>{}},{text:"Confirmar",handler:()=>{this.eliminar()}}]});yield t.present()}))}eliminar(){return Object(r.a)(this,void 0,void 0,(function*(){this.status="loading",this.catsService.eliminarCom(this.commerce._id).subscribe(t=>{t&&(this.router.navigateByUrl("faqs-texts-admin"),this.eraseToast(),this.refreshEvent.action.subscribe(t=>{}))})}))}getMySale(t){this.catsService.getSaleAdm(t).subscribe(t=>{console.log(t.cats),this.commerce=t.cats,t&&(this.catsForm.patchValue({_id:t.cats._id,status:t.cats.status,usuario:t.cats.usuario,tags:t.cats.tags,nombre:t.cats.nombre,tipo:t.cats.tipo,isadmin:t.cats.isadmin}),this.catsForm.patchValue({usuario:this.usuario._id}),this.status="ok")})}loadPage(){this.getMySale(this.route.snapshot.params.id)}updateBanner(){this.presentLoading("Cargando"),this.catsService.updateSaleAdm(this.catsForm.value).subscribe(t=>{this.router.navigateByUrl("admin-categorias"),this.loading.dismiss(),this.presentToast()})}presentLoading(t){return Object(r.a)(this,void 0,void 0,(function*(){return this.loading=yield this.loadingController.create({message:t}),yield this.loading.present()}))}}return t.\u0275fac=function(i){return new(i||t)(s.Yb(l.a),s.Yb(c.g),s.Yb(c.a),s.Yb(d.a),s.Yb(a.cb),s.Yb(n.b),s.Yb(u.a),s.Yb(a.b),s.Yb(m.a))},t.\u0275cmp=s.Sb({type:t,selectors:[["app-categorias-edit"]],decls:19,vars:3,consts:[["color","primary"],["slot","start"],["defaultHref","/"],[1,"ion-float-right"],[3,"click"],["name","trash",1,"help_toolbar"],[1,"help_toolbar"],[4,"ngIf"],["color","primary",4,"ngIf"],["size","12"],["expand","block","shape","round","color","primary",1,"btn_add",3,"disabled","click"],[1,"spinnerCenter"],["name","crescent"],["novalidate","",3,"formGroup"],["size","12",1,"card_form"],["lines","inset"],["name","globe","color","tertiary",1,"icon_addi"],["formControlName","status",3,"ionChange"],["lines","none"],["position","floating","color","tertiary",1,"text_floating"],["formControlName","tipo","cancelText","Cancelar","placeholder","elej\xed uno",3,"interfaceOptions"],[3,"value",4,"ngFor","ngForOf"],["position","floating","color","tertiary",1,"text_floating","font_seis"],["type","text","formControlName","nombre","autocapitalize","on","placeholder","nombre de la categor\xeda"],["type","text","formControlName","tags","autocapitalize","off","autoGrow","true","placeholder","palabras clave"],["name","person","color","tertiary",1,"icon_addi"],["formControlName","isadmin",3,"ionChange"],[3,"value"]],template:function(t,i){1&t&&(s.dc(0,"ion-header"),s.dc(1,"ion-toolbar",0),s.dc(2,"ion-buttons",1),s.Zb(3,"ion-back-button",2),s.dc(4,"ion-title"),s.Lc(5,"Modificando Cat."),s.cc(),s.cc(),s.dc(6,"div",3),s.dc(7,"ion-tab-button",4),s.lc("click",(function(){return i.delete()})),s.Zb(8,"ion-icon",5),s.dc(9,"ion-text",6),s.Lc(10,"Eliminar"),s.cc(),s.cc(),s.cc(),s.cc(),s.cc(),s.Kc(11,p,3,0,"ion-content",7),s.Kc(12,h,31,3,"ion-content",8),s.dc(13,"ion-footer"),s.dc(14,"ion-row"),s.dc(15,"ion-col",9),s.dc(16,"ion-button",10),s.lc("click",(function(){return i.updateBanner()})),s.dc(17,"b"),s.Lc(18,"Modificar"),s.cc(),s.cc(),s.cc(),s.cc(),s.cc()),2&t&&(s.Mb(11),s.vc("ngIf","loading"==i.status),s.Mb(1),s.vc("ngIf","ok"==i.status),s.Mb(4),s.vc("disabled",!i.catsForm.valid))},directives:[a.t,a.Z,a.j,a.f,a.g,a.X,a.T,a.u,a.U,o.k,a.r,a.K,a.p,a.i,a.q,a.S,n.t,n.m,n.e,a.s,a.k,a.x,a.D,a.Y,a.c,n.l,n.d,a.O,a.kb,o.j,a.w,a.lb,a.V,a.P],pipes:[o.q],styles:[".list_no_lines[_ngcontent-%COMP%]{font-size:14px;padding-left:1rem;display:block;margin-top:-.5rem}.img_normal[_ngcontent-%COMP%]{margin-top:1rem;max-height:120px;max-width:120px;min-height:120px;min-width:120px}ion-col[_ngcontent-%COMP%]{padding:0!important}ion-card[_ngcontent-%COMP%]{margin-left:0!important;margin-right:0!important}.text_floating[_ngcontent-%COMP%]{font-size:20px!important;padding-bottom:1rem}.col_file[_ngcontent-%COMP%]{margin-top:20px}.col_img[_ngcontent-%COMP%]{margin-top:-40px;padding-bottom:1rem;text-align:center}.color_col[_ngcontent-%COMP%]{background-color:#fff;margin:2px;max-width:99%!important}.error[_ngcontent-%COMP%]{font-size:12px;padding-top:.2rem;display:flex}.icon_error[_ngcontent-%COMP%]{font-size:15px;vertical-align:middle}.btn_user[_ngcontent-%COMP%]{margin-top:15px}.icon_loc[_ngcontent-%COMP%]{vertical-align:middle}"]}),t})()}];let f=(()=>{class t{}return t.\u0275mod=s.Wb({type:t}),t.\u0275inj=s.Vb({factory:function(i){return new(i||t)},imports:[[o.b,n.f,a.ab,n.q,c.j.forChild(b)]]}),t})()}}]);