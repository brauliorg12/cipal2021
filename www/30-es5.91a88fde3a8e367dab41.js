!function(){function e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function n(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{wDXw:function(t,o,i){"use strict";i.r(o),i.d(o,"LoginPageModule",(function(){return U}));var c=i("ofXK"),r=i("3Pt+"),a=i("tyNb"),s=i("TEn/"),l=i("mrSG"),u=i("fXoL"),p=i("on2l"),f=i("5egi"),d=i("e8h1");function g(e,n){1&e&&(u.dc(0,"ion-header"),u.dc(1,"ion-toolbar",2),u.dc(2,"ion-buttons",3),u.Zb(3,"ion-back-button",4),u.dc(4,"ion-title"),u.Lc(5,"Iniciar Sesi\xf3n"),u.cc(),u.cc(),u.cc(),u.cc())}function b(e,n){1&e&&(u.bc(0),u.dc(1,"ion-row",5),u.Zb(2,"ion-spinner",6),u.cc(),u.ac())}function m(e,n){if(1&e){var t=u.ec();u.dc(0,"ion-icon",22),u.lc("click",(function(){return u.Dc(t),u.pc(4).changeTypeText()})),u.cc()}}function h(e,n){if(1&e){var t=u.ec();u.dc(0,"ion-icon",23),u.lc("click",(function(){return u.Dc(t),u.pc(4).changeTypePass()})),u.cc()}}function v(e,n){1&e&&(u.dc(0,"ion-button",24),u.Lc(1," Ingresar "),u.cc())}function y(e,n){1&e&&(u.dc(0,"ion-button",25),u.Lc(1," Ingresar "),u.cc())}function w(e,n){if(1&e){var t=u.ec();u.bc(0),u.dc(1,"form",9,10),u.lc("ngSubmit",(function(){u.Dc(t);var e=u.Cc(2);return u.pc(3).login(e)})),u.dc(3,"ion-row"),u.dc(4,"ion-col"),u.Zb(5,"br"),u.dc(6,"ion-list"),u.dc(7,"ion-item",11),u.dc(8,"ion-label",2),u.Lc(9,"Email: "),u.cc(),u.dc(10,"ion-input",12,13),u.lc("ngModelChange",(function(e){return u.Dc(t),u.pc(3).loginUser.email=e})),u.cc(),u.cc(),u.dc(12,"ion-item",11),u.dc(13,"ion-label",2),u.Lc(14,"Contrase\xf1a: "),u.cc(),u.dc(15,"ion-input",14),u.lc("ngModelChange",(function(e){return u.Dc(t),u.pc(3).loginUser.password=e})),u.cc(),u.Kc(16,m,1,0,"ion-icon",15),u.Kc(17,h,1,0,"ion-icon",16),u.cc(),u.cc(),u.cc(),u.cc(),u.dc(18,"ion-row"),u.dc(19,"ion-col"),u.dc(20,"ion-text",17),u.Lc(21,"\xbfOlvidaste la contrase\xf1a? "),u.dc(22,"ion-text",2),u.dc(23,"b",18),u.lc("click",(function(){return u.Dc(t),u.pc(3).fbToLogin()})),u.Lc(24,"Recuperar mi cuenta"),u.cc(),u.cc(),u.cc(),u.cc(),u.cc(),u.Zb(25,"br"),u.dc(26,"ion-row"),u.dc(27,"ion-col"),u.Kc(28,v,2,0,"ion-button",19),u.Kc(29,y,2,0,"ion-button",20),u.cc(),u.cc(),u.dc(30,"ion-button",21),u.lc("click",(function(){return u.Dc(t),u.pc(3).backNewL()})),u.dc(31,"ion-text"),u.Lc(32,"Volver"),u.cc(),u.cc(),u.cc(),u.ac()}if(2&e){var o=u.Cc(2),i=u.pc(3);u.Mb(10),u.vc("ngModel",i.loginUser.email),u.Mb(5),u.vc("type",i.passtype)("ngModel",i.loginUser.password),u.Mb(1),u.vc("ngIf","password"===i.passtype),u.Mb(1),u.vc("ngIf","text"===i.passtype),u.Mb(11),u.vc("ngIf",i.loginUser.email&&i.loginUser.password&&o.valid),u.Mb(1),u.vc("ngIf",!i.loginUser.email||!i.loginUser.password||!o.valid)}}function x(e,n){if(1&e){var t=u.ec();u.bc(0),u.Zb(1,"br"),u.dc(2,"ion-row"),u.dc(3,"ion-col"),u.dc(4,"ion-button",21),u.lc("click",(function(){return u.Dc(t),u.pc(3).fbToLogin()})),u.dc(5,"ion-text",2),u.dc(6,"b"),u.Lc(7,"Iniciar sesi\xf3n"),u.cc(),u.cc(),u.cc(),u.cc(),u.cc(),u.dc(8,"ion-row"),u.dc(9,"ion-col"),u.dc(10,"ion-button",21),u.lc("click",(function(){return u.Dc(t),u.pc(3).registerNew()})),u.dc(11,"ion-text",2),u.dc(12,"b"),u.Lc(13,"Registrarme"),u.cc(),u.cc(),u.cc(),u.cc(),u.cc(),u.ac()}}function k(e,n){if(1&e&&(u.dc(0,"div"),u.dc(1,"ion-grid",8),u.Kc(2,w,33,7,"ng-container",0),u.Kc(3,x,14,0,"ng-container",0),u.cc(),u.cc()),2&e){var t=u.pc(2);u.Mb(2),u.vc("ngIf","login"===t.fborlogin&&t.touchL),u.Mb(1),u.vc("ngIf","fb"===t.fborlogin&&!t.touchR&&!t.touchL)}}function _(e,n){if(1&e){var t=u.ec();u.dc(0,"ion-icon",22),u.lc("click",(function(){return u.Dc(t),u.pc(3).changeTypeText()})),u.cc()}}function M(e,n){if(1&e){var t=u.ec();u.dc(0,"ion-icon",23),u.lc("click",(function(){return u.Dc(t),u.pc(3).changeTypePass()})),u.cc()}}function C(e,n){1&e&&(u.dc(0,"ion-text",35),u.Lc(1,"\xa0 "),u.Zb(2,"ion-icon",36),u.Lc(3,"\xa0Las contrase\xf1as no coinciden "),u.cc())}function O(e,n){if(1&e){var t=u.ec();u.dc(0,"div"),u.dc(1,"ion-grid"),u.dc(2,"form",26),u.dc(3,"ion-row"),u.dc(4,"ion-col"),u.dc(5,"ion-list"),u.dc(6,"ion-item",11),u.dc(7,"ion-label",27),u.Lc(8,"Email:"),u.cc(),u.Zb(9,"ion-input",28,29),u.cc(),u.dc(11,"ion-item",11),u.dc(12,"ion-label",27),u.Lc(13,"Nombre:"),u.cc(),u.Zb(14,"ion-input",30),u.cc(),u.dc(15,"ion-item",11),u.dc(16,"ion-label",27),u.Lc(17,"Contrase\xf1a:"),u.cc(),u.Zb(18,"ion-input",31),u.Kc(19,_,1,0,"ion-icon",15),u.Kc(20,M,1,0,"ion-icon",16),u.cc(),u.dc(21,"ion-item",11),u.dc(22,"ion-label",27),u.Lc(23,"Repetir Contrase\xf1a:"),u.cc(),u.Zb(24,"ion-input",32),u.cc(),u.Kc(25,C,4,0,"ion-text",33),u.cc(),u.cc(),u.cc(),u.Zb(26,"br"),u.dc(27,"ion-row"),u.dc(28,"ion-col"),u.dc(29,"ion-button",34),u.lc("click",(function(){return u.Dc(t),u.pc(2).registro()})),u.Lc(30," Crear usuario "),u.cc(),u.cc(),u.cc(),u.Zb(31,"br"),u.dc(32,"ion-button",21),u.lc("click",(function(){return u.Dc(t),u.pc(2).backNewR()})),u.dc(33,"ion-text"),u.Lc(34,"Volver"),u.cc(),u.cc(),u.cc(),u.cc(),u.cc()}if(2&e){var o=u.pc(2);u.Mb(2),u.vc("formGroup",o.registerUser),u.Mb(16),u.vc("type",o.passtype),u.Mb(1),u.vc("ngIf","password"===o.passtype),u.Mb(1),u.vc("ngIf","text"===o.passtype),u.Mb(4),u.vc("type",o.passtype),u.Mb(1),u.vc("ngIf",o.registerUser.get("password_c").errors&&(o.registerUser.get("password_c").dirty||o.registerUser.get("password_c").touched)),u.Mb(4),u.vc("disabled",!o.registerUser.valid)}}function P(e,n){if(1&e&&(u.bc(0),u.Zb(1,"br"),u.Zb(2,"img",7),u.Kc(3,k,4,2,"div",0),u.Kc(4,O,35,7,"div",0),u.ac()),2&e){var t=u.pc();u.Mb(3),u.vc("ngIf","false"===t.userReady),u.Mb(1),u.vc("ngIf","false"===t.userReady&&t.touchR)}}var R,L,I=[{path:"",component:(R=function(){function t(n,o,i,c,a,s,l,u){e(this,t),this.router=n,this.navCtrl=o,this.usuarioService=i,this.uiService=c,this.storage=a,this.formBuilder=s,this.platform=l,this.loadingController=u,this.loginUser={email:"",password:""},this.fborlogin="fb",this.userReady="false",this.passtype="password",this.touchL=!1,this.touchR=!1,this.status="loading",this.registerUser=this.formBuilder.group({_id:[""],email:["",r.s.required],nombre:["",r.s.required],password:new r.c("",r.s.compose([r.s.minLength(5),r.s.required])),password_c:["",[r.s.required,this.matchValues("password")]],avatar:["av-1.png"],role:["user"],fb:["false"]})}var o,i,c;return o=t,(i=[{key:"matchValues",value:function(e){return function(n){return n.parent&&n.parent.value&&n.value===n.parent.controls[e].value?null:{isMatching:!1}}}},{key:"ionViewWillEnter",value:function(){var e=this;this.storage.get("token").then((function(n){n?e.navCtrl.navigateRoot("/inicio",{animated:!0,animationDirection:"forward"}):(e.userReady="false",setTimeout((function(){e.status="ok"}),500))}))}},{key:"ngOnInit",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.platform.is("capacitor")?this.platform.ready().then((function(){})):this.web=!0;case 1:case"end":return e.stop()}}),e,this)})))}},{key:"changeTypeText",value:function(){this.passtype="text"}},{key:"changeTypePass",value:function(){this.passtype="password"}},{key:"login",value:function(e){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var t=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this.userReady="true",n.t0=e.invalid,n.t0){n.next=5;break}return n.next=5,this.usuarioService.login(this.loginUser.email,this.loginUser.password).then((function(e){return Object(l.a)(t,void 0,void 0,regeneratorRuntime.mark((function n(){var t=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e){n.next=7;break}return n.next=4,this.storage.set("user",{fb:"false"}).then((function(e){t.user={fb:e.fb},t.navCtrl.navigateRoot("/inicio",{animated:!0,animationDirection:"forward"}),t.loginUser.email="",t.loginUser.password="",t.touchL=!1,t.fborlogin="fb"}),(function(e){}));case 4:this.userReady="ok",n.next=8;break;case 7:this.userReady="false",this.uiService.alertaInformativa("Usuario/contrase\xf1a incorrectos.");case 8:case"end":return n.stop()}}),n,this)})))}));case 5:case"end":return n.stop()}}),n,this)})))}},{key:"Register",value:function(){window.open("https://cipal.com.ar","_system")}},{key:"registro",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.userReady="true",e.next=3,this.usuarioService.registro(this.registerUser.value).then((function(e){return Object(l.a)(n,void 0,void 0,regeneratorRuntime.mark((function n(){var t=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e){n.next=7;break}return n.next=4,this.storage.set("user",{fb:"false"}).then((function(e){t.user={fb:e.fb},t.navCtrl.navigateRoot("/inicio",{animated:!0,animationDirection:"forward"}),t.registerUser.reset(),t.touchR=!1,t.fborlogin="fb"}),(function(e){}));case 4:this.userReady="ok",n.next=8;break;case 7:this.userReady="false",this.uiService.alertaInformativa("Ese correo electr\xf3nico ya existe.");case 8:case"end":return n.stop()}}),n,this)})))}));case 3:case"end":return e.stop()}}),e,this)})))}},{key:"clicksWhatsapp",value:function(){window.location.href="whatsapp://send?text=Hola, tengo inconvenientes para entrar en CoDi.&phone=+5492364624963"}},{key:"fbToLogin",value:function(){var e=this;this.fborlogin="login",this.touchL=!0,setTimeout((function(){e.inputEmailL.setFocus()}),500)}},{key:"registerNew",value:function(){var e=this;this.fborlogin="login",this.touchR=!0,setTimeout((function(){e.inputEmailR.setFocus()}),500)}},{key:"backNewR",value:function(){this.fborlogin="fb",this.touchR=!1}},{key:"backNewL",value:function(){this.fborlogin="fb",this.touchL=!1}},{key:"loginToFb",value:function(){this.fborlogin="fb"}},{key:"openEmergency",value:function(){this.router.navigateByUrl("/main/tabs/emergencias")}}])&&n(o.prototype,i),c&&n(o,c),t}(),R.\u0275fac=function(e){return new(e||R)(u.Yb(a.g),u.Yb(s.fb),u.Yb(p.a),u.Yb(f.a),u.Yb(d.b),u.Yb(r.b),u.Yb(s.hb),u.Yb(s.cb))},R.\u0275cmp=u.Sb({type:R,selectors:[["app-login"]],viewQuery:function(e,n){var t;1&e&&(u.Pc(s.w,!0),u.Pc(s.w,!0)),2&e&&(u.Bc(t=u.mc())&&(n.inputEmailR=t.first),u.Bc(t=u.mc())&&(n.inputEmailL=t.first))},decls:4,vars:3,consts:[[4,"ngIf"],["color","light",1,"ion-text-center"],["color","primary"],["slot","start"],["defaultHref","/"],[1,"center"],["name","crescent","color","primary"],["src","assets/icon/logo.png","alt","cipal",1,"logo"],[1,"grid_login"],[3,"ngSubmit"],["fLogin","ngForm"],["lines","inset"],["name","email","type","email","autocomplete","email","required","","pattern","[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$",3,"ngModel","ngModelChange"],["inputEmailL",""],["name","password","autocomplete","current-password","required","",3,"type","ngModel","ngModelChange"],["name","eye-off-outline",3,"click",4,"ngIf"],["name","eye-outline",3,"click",4,"ngIf"],[1,"text_login_y","pointer"],[3,"click"],["type","submit","color","primary","shape","round",4,"ngIf"],["color","primary","shape","round","disabled","",4,"ngIf"],["fill","outline","shape","round",3,"click"],["name","eye-off-outline",3,"click"],["name","eye-outline",3,"click"],["type","submit","color","primary","shape","round"],["color","primary","shape","round","disabled",""],["novalidate","",3,"formGroup"],["color","primary",1,"form_r"],["type","email","autocomplete","email","formControlName","email","required","","pattern","[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$"],["inputEmailR",""],["type","text","formControlName","nombre","autocomplete","name","required","","autocapitalize","on"],["autocomplete","new-password","formControlName","password","required","",3,"type"],["autocomplete","new-password","formControlName","password_c","required","",3,"type"],["color","danger","class","error",4,"ngIf"],["type","submit","color","primary","shape","round",3,"disabled","click"],["color","danger",1,"error"],["name","alert",1,"icon_error"]],template:function(e,n){1&e&&(u.Kc(0,g,6,0,"ion-header",0),u.dc(1,"ion-content",1),u.Kc(2,b,3,0,"ng-container",0),u.Kc(3,P,5,2,"ng-container",0),u.cc()),2&e&&(u.vc("ngIf","false"===n.userReady),u.Mb(2),u.vc("ngIf","loading"===n.status),u.Mb(1),u.vc("ngIf","ok"===n.status))},directives:[c.k,s.q,s.t,s.Z,s.j,s.f,s.g,s.X,s.K,s.S,s.s,r.t,r.m,r.n,s.p,s.E,s.x,s.D,s.w,s.lb,r.r,r.p,r.l,r.o,s.U,s.i,s.u,r.e,r.d],styles:['.div_logo[_ngcontent-%COMP%]{display:flex;text-align:center}.text_codi[_ngcontent-%COMP%]{position:absolute;left:42%}.pick-avatar[_ngcontent-%COMP%]{width:80px;opacity:.3}.logo[_ngcontent-%COMP%]{max-height:90px}.info_filter[_ngcontent-%COMP%]{font-size:17px;padding:.8rem;margin:1rem}.pick-avatar-seleccionado[_ngcontent-%COMP%]{transition:opacity .5s linear;opacity:1!important}.img_codi[_ngcontent-%COMP%]{width:80px;height:80px}.msg-content[_ngcontent-%COMP%]{float:left;position:relative;background:#0f4994;color:#fff;margin-top:1rem;border-radius:10px;padding:.3rem;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.msg-content[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:before{content:"";position:absolute;background:transparent;width:10px;height:8px;left:-10px;top:9px;box-sizing:border-box;border-right:10px solid #0f4994;border-top:8px solid transparent;border-bottom:8px solid transparent}.grid_login[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);-webkit-transform:translate(-50%,-50%);width:100%}.icon_fb[_ngcontent-%COMP%]{color:#4267b2!important;margin-bottom:2rem;min-width:250px}.icon_go[_ngcontent-%COMP%]{color:#d54c3f!important;margin-top:1rem}.text_login_n[_ngcontent-%COMP%]{font-size:.7rem}.icon_error[_ngcontent-%COMP%]{font-size:13px;vertical-align:middle}.error[_ngcontent-%COMP%]{font-size:12px}.form_r[_ngcontent-%COMP%], .text_login[_ngcontent-%COMP%]{font-size:14px}.text_login_first[_ngcontent-%COMP%]{font-size:1.1rem;display:block}.text_login_second[_ngcontent-%COMP%]{font-size:1rem;display:block}.text_login_y[_ngcontent-%COMP%]{font-size:13px}.col_top[_ngcontent-%COMP%]{background-color:#f0f8ff}.icon_size_home[_ngcontent-%COMP%]{position:relative;width:35px;height:25px}.icon_text_login[_ngcontent-%COMP%]{font-size:13px}.pulse1[_ngcontent-%COMP%]{z-index:1;border:3px solid #4267b2;-webkit-animation:pulsejg1 3s linear infinite;animation:pulsejg1 3s linear infinite;border-radius:999px;box-shadow:inset 0 0 15px 10px #4267b2}.pulse1[_ngcontent-%COMP%], .pulse2[_ngcontent-%COMP%]{position:absolute;width:200px;height:200px;margin:auto;top:0;left:0;bottom:0;right:0;opacity:0;box-sizing:border-box}.pulse2[_ngcontent-%COMP%]{z-index:2;border:1px solid #1d28c2;-webkit-animation:pulsejg2 3s linear infinite;animation:pulsejg2 3s linear infinite;border-radius:999px;box-shadow:inset 0 0 12px 5px #4267b2}@-webkit-keyframes pulsejg1{0%{-webkit-transform:scale(.6);opacity:0}50%{-webkit-transform:scale(.6);opacity:0}60%{-webkit-transform:scale(.9);opacity:.2}70%{-webkit-transform:scale(1.1);opacity:.35}80%{-webkit-transform:scale(1.25);opacity:.2}to{-webkit-transform:scale(1.4);opacity:0}}@keyframes pulsejg1{0%{transform:scale(.6);opacity:0}50%{transform:scale(.6);opacity:0}60%{transform:scale(.9);opacity:.1}70%{transform:scale(1.1);opacity:.25}80%{transform:scale(1.25);opacity:.1}to{transform:scale(1.4);opacity:0}}@-webkit-keyframes pulsejg2{0%{-webkit-transform:scale(.6);opacity:0}40%{-webkit-transform:scale(.8);opacity:.05}50%{-webkit-transform:scale(1);opacity:.1}60%{-webkit-transform:scale(1.1);opacity:.3}80%{-webkit-transform:scale(1.2);opacity:.1}to{-webkit-transform:scale(1.3);opacity:0}}@keyframes pulsejg2{0%{transform:scale(.6);opacity:0}40%{transform:scale(.8);opacity:.05}50%{transform:scale(1);opacity:.1}60%{transform:scale(1.1);opacity:.3}80%{transform:scale(1.2);opacity:.1}to{transform:scale(1.3);opacity:0}}.divider_normal[_ngcontent-%COMP%]{min-height:1px}.divider[_ngcontent-%COMP%]{display:flex}.divider[_ngcontent-%COMP%]:after, .divider[_ngcontent-%COMP%]:before{content:"";flex:1}.line[_ngcontent-%COMP%]{align-items:center}.line[_ngcontent-%COMP%]:after, .line[_ngcontent-%COMP%]:before{height:1px;margin:0 1em}.one-line[_ngcontent-%COMP%]:after, .one-line[_ngcontent-%COMP%]:before{background:#b5b5b5}']}),R)}],U=((L=function n(){e(this,n)}).\u0275mod=u.Wb({type:L}),L.\u0275inj=u.Vb({factory:function(e){return new(e||L)},imports:[[c.b,r.f,s.ab,r.q,a.j.forChild(I)]]}),L)}}])}();